<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>非受控组件</title>

    <!-- react 核心库 -->
    <!-- <script src="https://unpkg.com/react@18/umd/react.development.js"></script> -->
    <script src="../js/react.development.js"></script>
    <!-- react-dom: 用于支持react操作dom -->
    <!-- <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script> -->
    <script src="../js/react-dom.development.js"></script>

    <!-- babel：将jsx转为js -->
    <!-- <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script> -->
    <script src="../js/babel.min.js"></script>
  </head>

  <body>
    <!-- React 容器 -->
    <div id="root"></div>

    <script type="text/babel">
      class InputComponent extends React.Component {
        // 创建一个ref容器
        usernameRef = React.createRef();
        passwordRef = React.createRef();

        handleSubmit = (event) => {
          event.preventDefault(); // 阻止默认行为
          console.log(this.usernameRef);

          let data = {
            username: this.usernameRef.current.value,
            password: this.passwordRef.current.value,
          };
          console.log(data);
        };

        render() {
          return (
            <form onSubmit={this.handleSubmit}>
              <label>
                用户名
                <input
                  ref={this.usernameRef}
                  type="text"
                  placeholder="用户名"
                />
              </label>

              <label>
                密码
                <input
                  ref={this.passwordRef}
                  type="password"
                  placeholder="密码"
                />
              </label>
              <button>提交</button>
            </form>
          );
        }
      }

      // 渲染组件
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<InputComponent />);
    </script>
  </body>
</html>
